{"ast":null,"code":"import * as axios from 'axios';\n\nconst FileDownload = require('js-file-download');\n\nconst baseUrl = 'http://0.0.0.0:8003';\nexport const searchData = async (data, callback) => {\n  const search_mode = data.search_mode;\n  const url = search_mode === 'hash' || search_mode === 'dynamic_search' ? baseUrl + '/search/' + data.input_data : baseUrl + '/search/' + data.search_mode;\n\n  if (search_mode === 'hash') {\n    axios(url, {\n      method: 'GET',\n      headers: {\n        dynamic_search: ''\n      }\n    }).then(resp => callback(resp.json())).catch(err => callback(err));\n  } else if (search_mode === 'date') {\n    axios(url, {\n      method: 'GET',\n      headers: {\n        dynamic_search: '',\n        date: data.input_data\n      }\n    }).then(resp => callback(resp.json())).catch(err => callback(err));\n  } else if (search_mode === 'search_ip') {\n    axios(url, {\n      method: 'GET',\n      headers: {\n        dynamic_search: '',\n        search_ip: ''\n      }\n    }).then(resp => callback(resp.json())).catch(err => callback(err));\n  } else if (search_mode === 'dynamic_search') {\n    axios(url, {\n      method: 'GET',\n      headers: {\n        'dynamic_search': 'True',\n        'responseType': 'arraybuffer',\n        'Content-Type': \"application/octet-stream\",\n        'Content-Disposition': \"attachment;filename=result.zip\"\n      }\n    }).then(resp => {\n      FileDownload(resp.data, 'result.zip');\n      callback('ФАЙЛ УСПЕШНО СКАЧАН');\n    }).catch(err => callback(err));\n  }\n};","map":{"version":3,"sources":["/Users/damir/Desktop/own/polas/maldet-frontend/src/requests/index.js"],"names":["axios","FileDownload","require","baseUrl","searchData","data","callback","search_mode","url","input_data","method","headers","dynamic_search","then","resp","json","catch","err","date","search_ip"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;;AAEA,MAAMC,YAAY,GAAGC,OAAO,CAAC,kBAAD,CAA5B;;AAEA,MAAMC,OAAO,GAAG,qBAAhB;AAEA,OAAO,MAAMC,UAAU,GAAG,OAAOC,IAAP,EAAaC,QAAb,KAA0B;AAChD,QAAMC,WAAW,GAAGF,IAAI,CAACE,WAAzB;AAEA,QAAMC,GAAG,GAAGD,WAAW,KAAK,MAAhB,IAA0BA,WAAW,KAAK,gBAA1C,GACNJ,OAAO,GAAG,UAAV,GAAuBE,IAAI,CAACI,UADtB,GAENN,OAAO,GAAG,UAAV,GAAuBE,IAAI,CAACE,WAFlC;;AAIA,MAAIA,WAAW,KAAK,MAApB,EAA4B;AACxBP,IAAAA,KAAK,CAACQ,GAAD,EAAM;AACPE,MAAAA,MAAM,EAAE,KADD;AAEPC,MAAAA,OAAO,EAAE;AACLC,QAAAA,cAAc,EAAE;AADX;AAFF,KAAN,CAAL,CAMKC,IANL,CAMUC,IAAI,IAAIR,QAAQ,CAACQ,IAAI,CAACC,IAAL,EAAD,CAN1B,EAOKC,KAPL,CAOWC,GAAG,IAAIX,QAAQ,CAACW,GAAD,CAP1B;AAQH,GATD,MAWK,IAAIV,WAAW,KAAK,MAApB,EAA4B;AAC7BP,IAAAA,KAAK,CAACQ,GAAD,EAAM;AACPE,MAAAA,MAAM,EAAE,KADD;AAEPC,MAAAA,OAAO,EAAE;AACLC,QAAAA,cAAc,EAAE,EADX;AAELM,QAAAA,IAAI,EAAEb,IAAI,CAACI;AAFN;AAFF,KAAN,CAAL,CAOKI,IAPL,CAOUC,IAAI,IAAIR,QAAQ,CAACQ,IAAI,CAACC,IAAL,EAAD,CAP1B,EAQKC,KARL,CAQWC,GAAG,IAAIX,QAAQ,CAACW,GAAD,CAR1B;AASH,GAVI,MAYA,IAAIV,WAAW,KAAK,WAApB,EAAiC;AAClCP,IAAAA,KAAK,CAACQ,GAAD,EAAM;AACPE,MAAAA,MAAM,EAAE,KADD;AAEPC,MAAAA,OAAO,EAAE;AACLC,QAAAA,cAAc,EAAE,EADX;AAELO,QAAAA,SAAS,EAAE;AAFN;AAFF,KAAN,CAAL,CAOKN,IAPL,CAOUC,IAAI,IAAIR,QAAQ,CAACQ,IAAI,CAACC,IAAL,EAAD,CAP1B,EAQKC,KARL,CAQWC,GAAG,IAAIX,QAAQ,CAACW,GAAD,CAR1B;AASH,GAVI,MAYA,IAAIV,WAAW,KAAK,gBAApB,EAAsC;AACvCP,IAAAA,KAAK,CAACQ,GAAD,EAAM;AACPE,MAAAA,MAAM,EAAE,KADD;AAEPC,MAAAA,OAAO,EAAE;AACL,0BAAkB,MADb;AAEL,wBAAgB,aAFX;AAGL,wBAAgB,0BAHX;AAIL,+BAAuB;AAJlB;AAFF,KAAN,CAAL,CASKE,IATL,CASUC,IAAI,IAAI;AACVb,MAAAA,YAAY,CAACa,IAAI,CAACT,IAAN,EAAY,YAAZ,CAAZ;AACAC,MAAAA,QAAQ,CAAC,qBAAD,CAAR;AACH,KAZL,EAaKU,KAbL,CAaWC,GAAG,IAAIX,QAAQ,CAACW,GAAD,CAb1B;AAcH;AACJ,CA1DM","sourcesContent":["import * as axios from 'axios';\n\nconst FileDownload = require('js-file-download');\n\nconst baseUrl = 'http://0.0.0.0:8003';\n\nexport const searchData = async (data, callback) => {\n    const search_mode = data.search_mode;\n\n    const url = search_mode === 'hash' || search_mode === 'dynamic_search'\n        ? baseUrl + '/search/' + data.input_data\n        : baseUrl + '/search/' + data.search_mode;\n\n    if (search_mode === 'hash') {\n        axios(url, {\n            method: 'GET',\n            headers: {\n                dynamic_search: ''\n            }\n        })\n            .then(resp => callback(resp.json()))\n            .catch(err => callback(err))\n    }\n\n    else if (search_mode === 'date') {\n        axios(url, {\n            method: 'GET',\n            headers: {\n                dynamic_search: '',\n                date: data.input_data\n            }\n        })\n            .then(resp => callback(resp.json()))\n            .catch(err => callback(err));\n    }\n\n    else if (search_mode === 'search_ip') {\n        axios(url, {\n            method: 'GET',\n            headers: {\n                dynamic_search: '',\n                search_ip: ''\n            }\n        })\n            .then(resp => callback(resp.json()))\n            .catch(err => callback(err));\n    }\n    \n    else if (search_mode === 'dynamic_search') {\n        axios(url, {\n            method: 'GET',\n            headers: {\n                'dynamic_search': 'True',\n                'responseType': 'arraybuffer',\n                'Content-Type': \"application/octet-stream\",\n                'Content-Disposition': \"attachment;filename=result.zip\"\n            }\n        })\n            .then(resp => {\n                FileDownload(resp.data, 'result.zip');\n                callback('ФАЙЛ УСПЕШНО СКАЧАН');\n            })\n            .catch(err => callback(err));\n    }\n};"]},"metadata":{},"sourceType":"module"}